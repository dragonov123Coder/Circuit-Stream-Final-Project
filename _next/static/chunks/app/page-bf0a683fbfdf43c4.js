(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1057:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var n=a(5155),s=a(2115),o=a(6766);let r="/Circuit-Stream-Final-Project",i={Clear:{icon:"".concat(r,"/sunny.svg"),bg:"from-yellow-200 to-blue-400"},Clouds:{icon:"".concat(r,"/cloudy.svg"),bg:"from-gray-300 to-blue-500"},Rain:{icon:"".concat(r,"/rainy.svg"),bg:"from-blue-400 to-gray-600"},Drizzle:{icon:"".concat(r,"/rainy.svg"),bg:"from-blue-300 to-gray-500"},Thunderstorm:{icon:"".concat(r,"/storm.svg"),bg:"from-gray-700 to-blue-900"},Snow:{icon:"".concat(r,"/snowy.svg"),bg:"from-blue-100 to-blue-400"},Mist:{icon:"".concat(r,"/mist.svg"),bg:"from-gray-200 to-gray-400"},Smoke:{icon:"".concat(r,"/mist.svg"),bg:"from-gray-300 to-gray-500"},Haze:{icon:"".concat(r,"/mist.svg"),bg:"from-gray-200 to-yellow-200"},Fog:{icon:"".concat(r,"/mist.svg"),bg:"from-gray-300 to-gray-500"},default:{icon:"".concat(r,"/cloudy.svg"),bg:"from-gray-200 to-blue-300"}};function l(e){return new Date(1e3*e).toLocaleDateString(void 0,{weekday:"short"})}let c="0f0d7f0e9b7e6484354169898589100f";function d(){var e,t,a,r;let d,m,[u,h]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[p,f]=(0,s.useState)(null),[b,y]=(0,s.useState)([]),[w,v]=(0,s.useState)("metric"),[j,N]=(0,s.useState)(!1),[k,D]=(0,s.useState)(""),[C,S]=(0,s.useState)([]);async function M(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:w;N(!0),D("");try{let a=await fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(c,"&units=").concat(t));if(!a.ok)throw Error("City not found");let n=await a.json();f(n),h("".concat(n.name,", ").concat(n.sys.country)),S(e=>[n.name,...e.filter(e=>e!==n.name)].slice(0,5));let s=await fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e,"&appid=").concat(c,"&units=").concat(t)),o=await s.json(),r={};o.list.forEach(e=>{let t=l(e.dt);r[t]||(r[t]=[]),r[t].push(e)}),y(Object.entries(r).slice(0,5).map(e=>{var t;let[a,n]=e,s=n.map(e=>e.main.temp),o=n[0].weather[0].main;return{day:a,icon:(null==(t=i[o])?void 0:t.icon)||i.default.icon,min:Math.round(Math.min(...s)),max:Math.round(Math.max(...s)),cond:o}}))}catch(e){e instanceof Error?D(e.message):D(String(e)),f(null),y([])}N(!1)}async function E(){N(!0),D(""),navigator.geolocation.getCurrentPosition(async e=>{let{latitude:t,longitude:a}=e.coords;try{let e=await fetch("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(a,"&appid=").concat(c,"&units=").concat(w));if(!e.ok)throw Error("Location not found");let n=await e.json();f(n),h("".concat(n.name,", ").concat(n.sys.country)),S(e=>[n.name,...e.filter(e=>e!==n.name)].slice(0,5));let s=await fetch("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(t,"&lon=").concat(a,"&appid=").concat(c,"&units=").concat(w)),o=await s.json(),r={};o.list.forEach(e=>{let t=l(e.dt);r[t]||(r[t]=[]),r[t].push(e)}),y(Object.entries(r).slice(0,5).map(e=>{var t;let[a,n]=e,s=n.map(e=>e.main.temp),o=n[0].weather[0].main;return{day:a,icon:(null==(t=i[o])?void 0:t.icon)||i.default.icon,min:Math.round(Math.min(...s)),max:Math.round(Math.max(...s)),cond:o}}))}catch(e){e instanceof Error?D(e.message):D(String(e)),f(null),y([])}N(!1)},()=>{D("Location access denied"),N(!1)})}let A=g?C.filter(e=>e.toLowerCase().includes(g.toLowerCase())):C,F=p&&(null==(e=i[p.weather[0].main])?void 0:e.bg)||i.default.bg,L=p?(a=Math.round(p.main.temp),r=p.weather[0].description,d="",m="",r.includes("rain")?(d="It looks like a rainy day, don’t forget your umbrella!",m="Wear waterproof shoes and a raincoat."):r.includes("snow")?(d="Snowy weather ahead. Dress warmly and drive safe!",m="Wear boots, gloves, and a warm coat."):r.includes("clear")?(d="It’s a clear day. Enjoy the sunshine!",m=a>25?"Stay hydrated and wear sunscreen.":"A light jacket should be enough."):r.includes("cloud")?(d="Cloudy skies today.",m=a<15?"Bring a sweater.":"Comfortable weather for a walk."):(d="Check the weather before heading out!",m="Dress appropriately for the conditions."),a<5&&(m="Bundle up, it’s cold!"),a>30&&(m="It’s hot! Wear light clothes and drink water."),{message:d,tip:m}):{message:"",tip:""};return(0,n.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center px-2 py-6 sm:py-10 transition-colors duration-700 bg-gradient-to-br ".concat(F),children:[(0,n.jsxs)("main",{className:"w-full max-w-md bg-white/80 dark:bg-black/60 rounded-2xl shadow-xl p-6 flex flex-col gap-6 items-center animate-fade-in",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold text-center mb-2 tracking-tight",children:"Weather Assistant"}),(0,n.jsxs)("form",{className:"flex w-full gap-2",onSubmit:e=>{e.preventDefault(),g&&M(g)},children:[(0,n.jsx)("input",{className:"flex-1 rounded-l-lg px-3 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-400 text-base",type:"text",placeholder:"Search city...",value:g,onChange:e=>x(e.target.value),list:"history",autoComplete:"off"}),(0,n.jsx)("datalist",{id:"history",children:A.map(e=>(0,n.jsx)("option",{value:e},e))}),(0,n.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-r-lg transition-colors","aria-label":"Search",children:(0,n.jsx)("span",{role:"img","aria-label":"search",children:"\uD83D\uDD0D"})}),(0,n.jsx)("button",{type:"button",className:"ml-2 bg-gray-200 hover:bg-gray-300 text-gray-700 px-3 py-2 rounded-lg transition-colors",onClick:E,"aria-label":"Use current location",children:(0,n.jsx)("span",{role:"img","aria-label":"location",children:"\uD83D\uDCCD"})})]}),k&&(0,n.jsx)("div",{className:"text-red-600 text-sm",children:k}),j&&(0,n.jsx)("div",{className:"text-blue-600 text-sm animate-pulse",children:"Loading..."}),p&&(0,n.jsxs)("div",{className:"w-full flex flex-col items-center gap-2 animate-fade-in",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(o.default,{src:(null==(t=i[p.weather[0].main])?void 0:t.icon)||i.default.icon,alt:p.weather[0].main,width:48,height:48,className:"drop-shadow"}),(0,n.jsx)("span",{className:"text-xl font-semibold",children:u})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-3xl font-bold",children:[Math.round(p.main.temp),"\xb0",(0,n.jsx)("button",{onClick:function(){v(e=>"metric"===e?"imperial":"metric"),u&&M(u,"metric"===w?"imperial":"metric")},className:"ml-1 text-base px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 transition-colors","aria-label":"Toggle \xb0C/\xb0F",children:"metric"===w?"C":"F"})]}),(0,n.jsx)("div",{className:"flex items-center gap-2 text-lg capitalize",children:(0,n.jsx)("span",{children:p.weather[0].description})}),(0,n.jsxs)("div",{className:"flex gap-4 text-sm text-gray-700 dark:text-gray-300",children:[(0,n.jsxs)("span",{children:["\uD83D\uDCA8 Wind: ",Math.round(p.wind.speed)," ","metric"===w?"m/s":"mph"]}),(0,n.jsxs)("span",{children:["\uD83D\uDCA7 Humidity: ",p.main.humidity,"%"]})]}),(0,n.jsxs)("div",{className:"w-full bg-blue-50 dark:bg-blue-900/40 rounded-lg p-3 mt-2 text-center text-blue-900 dark:text-blue-100 animate-fade-in",children:[(0,n.jsx)("div",{className:"font-medium",children:L.message}),(0,n.jsx)("div",{className:"text-sm mt-1",children:L.tip})]})]}),b.length>0&&(0,n.jsxs)("div",{className:"w-full mt-2",children:[(0,n.jsx)("div",{className:"font-semibold mb-2",children:"5-Day Forecast:"}),(0,n.jsx)("div",{className:"flex gap-2 overflow-x-auto pb-2",children:b.map(e=>(0,n.jsxs)("div",{className:"flex flex-col items-center bg-white/70 dark:bg-black/40 rounded-xl shadow p-3 min-w-[80px] animate-fade-in",children:[(0,n.jsx)("div",{className:"text-sm font-medium mb-1",children:e.day}),(0,n.jsx)(o.default,{src:e.icon,alt:e.cond,width:32,height:32}),(0,n.jsx)("div",{className:"text-xs mt-1",children:e.cond}),(0,n.jsxs)("div",{className:"text-base font-bold mt-1",children:[e.max,"\xb0"]}),(0,n.jsxs)("div",{className:"text-xs text-gray-500",children:[e.min,"\xb0"]})]},e.day))})]})]}),(0,n.jsxs)("footer",{className:"mt-8 text-xs text-gray-600 dark:text-gray-300 text-center",children:["Powered by OpenWeatherMap. \xa9 ",new Date().getFullYear(),(0,n.jsx)("br",{}),(0,n.jsx)("span",{className:"opacity-60",children:"AI suggestions are for informational purposes only."})]})]})}console.log("API KEY:",c)},7126:(e,t,a)=>{Promise.resolve().then(a.bind(a,1057))}},e=>{e.O(0,[766,441,964,358],()=>e(e.s=7126)),_N_E=e.O()}]);